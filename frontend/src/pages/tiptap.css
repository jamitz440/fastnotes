/* @tailwind */
@reference "../main.css";

/* Custom Scrollbar */
*::-webkit-scrollbar {
    @apply w-2;
}

*::-webkit-scrollbar-track {
    @apply bg-surface0 rounded-full;
}

*::-webkit-scrollbar-thumb {
    @apply bg-surface1 rounded-full;
}

*::-webkit-scrollbar-thumb:hover {
    @apply bg-overlay0;
}

/* Firefox scrollbar */
* {
    scrollbar-width: thin;
    scrollbar-color: var(--color-surface1) var(--color-surface0);
}

.tiptap-editor {
    @apply flex flex-col h-full bg-base;
}

.ProseMirror {
    @apply text-text;
}

.editor-toolbar {
    @apply flex gap-2 px-4 bg-surface0 border-b border-surface1 flex-wrap items-center;
}

.editor-content {
    @apply h-full;
}

.toolbar-group {
    @apply flex gap-1;
}

.toolbar-divider {
    @apply w-px h-6 bg-surface1;
}

.editor-toolbar button {
    @apply p-2 bg-transparent border-none rounded-sm text-text cursor-pointer transition-all duration-150 text-sm font-semibold min-w-8 flex items-center justify-center;
}

.editor-toolbar button:hover:not(:disabled) {
    @apply bg-surface0;
}

.editor-toolbar button.active {
    @apply bg-accent-500 text-base;
}

.editor-toolbar button:disabled {
    @apply opacity-40 cursor-not-allowed;
}

.ProseMirror:focus {
    @apply outline-none;
}

.ProseMirror p.is-editor-empty:first-child::before {
    content: attr(data-placeholder);
    @apply float-left text-overlay0 pointer-events-none h-0;
}
.ProseMirror h1 {
    @apply text-3xl font-bold mt-6 mb-4 text-text;
}

.ProseMirror h2 {
    @apply text-2xl font-bold text-text mt-5 mb-3;
}

.ProseMirror h3 {
    @apply text-xl font-semibold text-text mt-4 mb-2;
}

.ProseMirror h4 {
    @apply text-lg font-semibold text-text mt-4 mb-2;
}

.ProseMirror h5 {
    @apply font-medium text-text mt-3 mb-2;
}

.ProseMirror strong {
    @apply text-accent-400 font-bold;
}

.ProseMirror em {
    @apply text-subtext;
}

.ProseMirror strong em,
.ProseMirror em strong {
    @apply text-accent-300 font-bold;
}

.ProseMirror code:not(pre code) {
    @apply bg-surface0 text-accent-400 px-1.5 py-0.5 rounded text-sm border border-surface1;
    font-family: "JetBrains Mono", "Fira Code", monospace;
}

.ProseMirror pre {
    @apply bg-surface1 border border-overlay0 rounded-md p-4 my-4 overflow-x-auto;
}

.ProseMirror pre code,
.ProseMirror pre code.hljs {
    @apply bg-transparent p-0 text-sm;
    background: transparent !important;
    font-family: "JetBrains Mono", monospace;
}

.ProseMirror blockquote {
    @apply border-l-4 border-accent-600 pl-4 ml-0 my-4 text-subtext italic bg-surface0/30 py-2 rounded-r-sm;
}

.ProseMirror a {
    @apply text-accent-400 no-underline border-b border-accent-600/50 transition-colors;
}

.ProseMirror a:hover {
    @apply text-accent-300 border-accent-400;
}

.ProseMirror li::marker {
    @apply text-accent-600;
}

.ProseMirror ul {
    @apply list-disc pl-6;
}

.ProseMirror ol {
    @apply list-decimal pl-6;
}

.ProseMirror hr {
    border: none;
    height: 3px;
    background: var(--color-accent-600);
    -webkit-mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 6'%3E%3Cpath d='M0 3 Q 3 0, 6 3 T 12 3 T 18 3 T 24 3' stroke='black' stroke-width='2' fill='none'/%3E%3C/svg%3E")
        repeat-x;
    mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 6'%3E%3Cpath d='M0 3 Q 3 0, 6 3 T 12 3 T 18 3 T 24 3' stroke='black' stroke-width='2' fill='none'/%3E%3C/svg%3E")
        repeat-x;
    margin: 2em 0;
}
.ProseMirror ul[data-type="taskList"] > li > label input[type="checkbox"] {
    @apply cursor-pointer m-0 accent-accent-500 w-4 h-4;
}

.ProseMirror li[data-checked="true"] > div > p {
    @apply line-through text-overlay1;
}

.ProseMirror u {
    @apply decoration-accent-500 underline-offset-2;
    text-decoration-style: solid;
}

.ProseMirror ::selection {
    @apply bg-accent-700/40;
}
